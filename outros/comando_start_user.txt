Comando que só usa uma vez para criar os usuários no banco.

Quando executar esse comando no browser ele vai criar os usuários iniciais. 
https://doug-moving.onrender.com/setup-inicial-doug-moving-netyon-12987

Depois pode apagar do programa a linha abaixo que cria esses usuários no banco no primeiro acesso.



# Em app.py, substitua a rota de setup pela versão final:

# --- ROTA TEMPORÁRIA PARA SETUP INICIAL (VERSÃO FINAL E CORRIGIDA) ---
# ATENÇÃO: ESTA ROTA DEVE SER REMOVIDA APÓS O PRIMEIRO USO!
@app.route('/setup-inicial-doug-moving-netyon-12987')
def setup_inicial_de_teste():
    try:
        # --- PASSO 1: GARANTIR QUE TODAS AS TABELAS EXISTEM (COM CONTEXTO) ---
        with app.app_context():
            db.create_all()

        # --- PASSO 2: VERIFICAR SE USUÁRIOS JÁ FORAM CRIADOS ---
        # (O resto do código permanece exatamente o mesmo)
        if User.query.first():
            return "<h1>Setup já foi realizado.</h1><p>O banco de dados já contém usuários. Por segurança, esta rota não fará nada. Remova-a do seu app.py.</p>"

        # --- PASSO 3: CRIAR OS USUÁRIOS DE TESTE ---
        admin_email = "admin@netyonsolutions.com"
        admin_password = "admin"
        hashed_password_admin = generate_password_hash(admin_password, method='pbkdf2:sha256')
        admin_user = User(email=admin_email, password=hashed_password_admin, role='admin')
        db.session.add(admin_user)
        
        motorista_email = "motorista@gmail.com"
        motorista_password = "123"
        hashed_password_motorista = generate_password_hash(motorista_password, method='pbkdf2:sha256')
        motorista_user = User(email=motorista_email, password=hashed_password_motorista, role='motorista')
        db.session.add(motorista_user)
        
        passageiro_email = "passageiro@gmail.com"
        passageiro_password = "123"
        hashed_password_passageiro = generate_password_hash(passageiro_password, method='pbkdf2:sha256')
        passageiro_user = User(email=passageiro_email, password=hashed_password_passageiro, role='solicitante')
        db.session.add(passageiro_user)

        db.session.commit()

        motorista_profile = Motorista(nome="Motorista Teste", user_id=motorista_user.id, status='Disponível')
        db.session.add(motorista_profile)
        
        db.session.commit()

        html_response = """
        <h1>Setup de Teste Concluído com Sucesso!</h1>
        <p>As tabelas foram criadas e os seguintes usuários foram adicionados:</p>
        <ul>
            <li><strong>Administrador:</strong> admin@netyonsolutions.com / senha: admin</li>
            <li><strong>Motorista:</strong> motorista@gmail.com / senha: 123</li>
            <li><strong>Passageiro:</strong> passageiro@gmail.com / senha: 123</li>
        </ul>
        <p style="color:red; font-weight:bold;">
            AÇÃO CRÍTICA: Por favor, remova a rota /setup-inicial... do seu arquivo app.py e faça o deploy novamente AGORA.
        </p>
        """
        return html_response

    except Exception as e:
        db.session.rollback()
        return f"<h1>Ocorreu um erro durante o setup:</h1><p>{str(e)}</p>"