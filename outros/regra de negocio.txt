Regra de negócio

1- Administrador cadastra Roger como Supervisor da empresa X

2- Administrador cadastra o funcionário João na empresa X. Informa os dados de João (nome, endereço, bloco que faz parte, origem e destino, tempo da origem para o destino, ….)

3- Roger faz o login na Doug com o perfil de Supervisor da empresa X

4- Após Roger (supervisor) fazer o login, ele irá fazer a solicitação do serviço de transporte. Para isso ele irá selecionar o funcionário (só irá exibir os funcionários da empresa de Roger - Empresa X). Exemplo: Funcionário João.

5- Roger (supervisor) irá informar o dia e horário que o funcionário João precisa estar no destino final, exemplo: 7:00 da manhã na empresa.
Com isso, o sistema já calcula o horário que o motorista precisa buscar o funcionário João na origem, exemplo: 6:00 na casa dele. 

6- Após Roger (supervisor) confirmar a solicitação, o sistema registra que tem uma solicitação de corrida com status de Pendente, aguardando algum motorista pegar.

7- A motorista Débora faz o login na plataforma Doug para visualizar se tem corridas para ela pegar. Ela vê que tem uma solicitação de Roger (supervisor) para o funcionário João (que faz parte do Bloco A), mostrando o dia e horário que ele precisa estar na empresa (07:00) e o horário que precisaria pegar João na origem (06:00).

8- Quando Débora (motorista) aceita a corrida de João (funcionário) solicitada por Roger (supervisor), o status de Débora muda de Disponível para Ocupada, pois ela tem essa corrida agendada. É gerado um número sequencial da corrida (exemplo id_corrida: 001010) Não pode mais aceitar uma nova corrida, sem cancelar ou finalizar essa corrida aceita.
Automaticamente, na tela de Roger (supervisor) ele vai ver que a solicitação dele mudou de “Pendente” para “Em andamento”.

9- A solicitação de Roger foi aceita e já tem um agendamento para a motorista pegar essa corrida. 

10 - Imagina que Roger acessou a plataforma e colocou mais uma solicitação para a funcionária Maria (mesmo Bloco A, da mesma empresa), com horário de chegada na empresa também às 07:00. Com previsão para pegar na origem também às 06:00. 


11- A motorista Débora logo cedo, antes de iniciar a corrida para buscar João (primeiro funcionário) checa no aplicativo se tem uma nova solicitação. Se o horário for maior que 1 hora antes de buscar João na origem, ou seja, até 5 horas da manhã, a Débora pode ainda aceitar essa nova solicitação de Maria que fará parte da mesma corrida (id_corrida: 001010). Se for após 5:00 da manhã, a Débora não conseguirá incluir mais ninguém nessa corrida. A solicitação de Maria continuará pendente para outro motorista pegar. 

12- Fechado a corrida, Débora (motorista) pega todos os funcionários que fazem parte da sua corrida e deixa na empresa até o horário final (7:00). Ao deixar todos no destino final, ela acessa a plataforma e finaliza a corrida, voltando o status dela para Disponível, ou seja, volta a poder pegar novas corridas. 


13- Imagina agora que Roger quando fez uma nova solicitação, foi após as 5:00 da manhã.
Ou seja, a Débora não poderá aceitar essa solicitação mais para incluir na corrida 001010.
A solicitação irá ficar disponível para outro motorista pegar e seguir o mesmo fluxo.